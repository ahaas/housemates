<!-- Andre Haas, Tom Lai -->

<% provide(:title, 'Transaction history') %>
<h1>Balance</h1>
<table class="table table-striped">
    <thead>
        <tr>
            <th>Housemate</th>
            <th>Amount</th>
        </tr>
    </thead>
    <tbody>
        <% @current_user.housemates.each do |hm| %>
        <tr>
            <td><%= hm.name %></td>
            <td><%= Balance.get(current_user, hm) %></td>
        </tr>
        <% end %>
    </tbody>
</table>
<%= link_to "Add new item", transactions_new_item_path, class: 'btn btn-default' %>
<%= link_to "Got paid back", transactions_new_payback_path, class: 'btn btn-default' %>
<h1>Transaction history</h1>
<table class="table table-striped">
    <thead>
        <tr>
            <th>Time</th>
            <th>Payer</th>
            <th>Payee</th>
            <th>Name of item</th>
            <th>Amount</th>
            <th>is_payback</th>
        </tr>
    </thead>
    <tbody>
        <% @transactions.each do |t| %>
        <tr>
            <td><%= t.created_at %></td>
            <td><%= t.payer.name %></td>
            <td><%= t.payee.name %></td>
            <td><%= t.transaction_group.name %></td>
            <td><%= t.amount %> </td>
            <td><%= t.is_payback.to_s %></td>
        </tr>
        <% end %>
    </tbody>
</table>